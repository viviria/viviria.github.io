{"version":3,"sources":["assets/Script/main.js","assets/Script/player.js"],"names":["Player","require","SkillName","SkillNames","POWER","TOUGH","MAGIC","AGILITY","cc","Class","extends","Component","properties","_player","_addSkillPoint","upSprite","type","SpriteFrame","default","downSprite","offSprite","onLoad","this","playerLevelUp","start","damage","hp","getHp","node","getChildByName","getComponent","Label","string","isDead","hpUpButton","hpDownButton","buttonEnabled","addExpButton","runAction","moveTo","p","heal","enabled","isUp","Button","interactable","Sprite","spriteFrame","okButtonEnabled","okButton","_sgNode","setState","allSkillUpButonEnabled","children","getChildren","i","length","upButton","allSkillDownButonEnabled","downButton","addExp","event","isLevelUp","expValue","nextExp","getExp","target","_this","levelUp","levelUpWindow","sequence","callFunc","levelUpWindowSetting","window","skill","skills","getSkill","skillName","skillUp","valueLabel","parent","value","Number","skillPointLabel","skillPoint","skillDown","name","levelUpOk","_this2","lv","getLevel","afterLebelUpValue","setSkill","position","expLevelUp","levelUpReward","Enum","_classCallCheck","_lv","_exp","_hp","_maxHp","_power","_tough","_magic","_agility","reward","power","tough","magic","agility","module","exports"],"mappings":"wgBAAA,IAAAA,EAAAC,EAAA,YAAAD,OACAE,EAAAD,EAAA,YAAAC,UAEAC,EAAA,CAAAD,EAAAE,MAAAF,EAAAG,MAAAH,EAAAI,MAAAJ,EAAAK,SAEAC,GAAAC,MAAA,CACIC,QAAAF,GAAAG,UAEAC,WAAA,CACDC,QAAA,KACAC,eAAA,EAEAC,SAAA,CACCC,KAAAR,GAAAS,YACAC,QAAA,MAGDC,WAAA,CACCH,KAAAR,GAAAS,YACAC,QAAA,MAGDE,UAAA,CACCJ,KAAAR,GAAAS,YACAC,QAAA,OAMAG,OAAA,WACDC,KAAAT,QAAA,IAAAb,EACAsB,KAAAC,iBAGCC,MAAA,aAIFC,OAAA,WACCH,KAAAT,QAAAY,SACA,IAAAC,EAAAJ,KAAAT,QAAAc,QAIA,GAHAL,KAAAM,KAAAC,eAAA,MAAAA,eAAA,SACAC,aAAAtB,GAAAuB,OAAAC,OAAAN,EAAA,GAEAJ,KAAAT,QAAAoB,SAAA,CACC,IAAAC,EAAAZ,KAAAM,KAAAC,eAAA,MAAAA,eAAA,MACAM,EAAAb,KAAAM,KAAAC,eAAA,MAAAA,eAAA,QACAP,KAAAc,cAAAF,GAAA,GACAZ,KAAAc,cAAAD,GAAA,GAEA,IAAAE,EAAAf,KAAAM,KAAAC,eAAA,OAAAA,eAAA,MACAP,KAAAc,cAAAC,GAAA,GAEAf,KAAAM,KAAAC,eAAA,YACAS,UAAA9B,GAAA+B,OAAA,EAAA/B,GAAAgC,EAAA,EAAA,OAIFC,KAAA,WACCnB,KAAAT,QAAA4B,OACA,IAAAf,EAAAJ,KAAAT,QAAAc,QACAL,KAAAM,KAAAC,eAAA,MAAAA,eAAA,SACAC,aAAAtB,GAAAuB,OAAAC,OAAAN,EAAA,IAGDU,cAAA,SAAAR,EAAAc,EAAAC,GACCf,EAAAE,aAAAtB,GAAAoC,QAAAC,aAAAH,EACAd,EAAAE,aAAAtB,GAAAsC,QAAAC,YAAAL,EAAAC,EAAArB,KAAAP,SAAAO,KAAAH,WAAAG,KAAAF,WAGD4B,gBAAA,SAAAN,GACC,IAAAO,EAAA3B,KAAAM,KAAAC,eAAA,iBAAAA,eAAA,MACAoB,EAAAnB,aAAAtB,GAAAoC,QAAAC,aAAAH,EACAO,EAAAnB,aAAAtB,GAAAsC,QAAAI,QAAAC,SAAAT,EAAA,EAAA,IAGDU,uBAAA,SAAAV,GAGC,IAFA,IACAW,EADA/B,KAAAM,KAAAC,eAAA,iBACAyB,cACAC,EAAA,EAAAA,EAAAF,EAAAG,OAAAD,IAAA,CACC,IAAAE,EAAAJ,EAAAE,GAAA1B,eAAA,MACA4B,GACCnC,KAAAc,cAAAqB,EAAAf,GAAA,KAKHgB,yBAAA,SAAAhB,GAGC,IAFA,IACAW,EADA/B,KAAAM,KAAAC,eAAA,iBACAyB,cACAC,EAAA,EAAAA,EAAAF,EAAAG,OAAAD,IAAA,CACC,IAAAI,EAAAN,EAAAE,GAAA1B,eAAA,QACA8B,GACCrC,KAAAc,cAAAuB,EAAAjB,GAAA,KAKHkB,OAAA,SAAAC,GACC,IAAAC,EAAAxC,KAAAT,QAAA+C,SACAG,EAAAzC,KAAAM,KAAAC,eAAA,OAAAA,eAAA,SACAmC,EAAA1C,KAAAT,QAAAoD,SACAF,EAAAjC,aAAAtB,GAAAuB,OAAAC,OAAAgC,EAAA,GAEAF,IACCxC,KAAAc,cAAAyB,EAAAK,QAAA,GACA5C,KAAAC,kBAIAA,cAAA,WAAgB,IAAA4C,EAAA7C,KACjBA,KAAAR,eAAAQ,KAAAT,QAAAuD,UAEA9C,KAAA8B,wBAAA,GACA9B,KAAAoC,0BAAA,GAEA,IAAAW,EAAA/C,KAAAM,KAAAC,eAAA,iBACAwC,EAAA/B,UAAA9B,GAAA8D,SAAA9D,GAAA+D,SAAA,WACoBJ,EAAAK,qBAAAH,KAA0C7D,GAAA+B,OAAA,EAAA/B,GAAAgC,EAAA,EAAA,OAK/DgC,qBAAA,SAAAC,EAAAC,GACCD,EAAA5C,eAAA,SAAAA,eAAA,SACAC,aAAAtB,GAAAuB,OAAAC,OAAAV,KAAAR,eAAA,GAEAQ,KAAA0B,iBAAA,GAEA,IAAA2B,EAAArD,KAAAT,QAAA+D,WACA,IAAA,IAAAC,KAAAF,EAAA,CACCF,EAAA5C,eAAAgD,GAAAhD,eAAA,SACAC,aAAAtB,GAAAuB,OAAAC,OAAA2C,EAAAE,GAAA,GAGDvD,KAAAoC,0BAAA,IAGDoB,QAAA,SAAAjB,GACC,IAAAkB,EAAAlB,EAAAK,OAAAc,OAAAnD,eAAA,SACAoD,EAAAC,OAAAH,EAAAjD,aAAAtB,GAAAuB,OAAAC,QACAiD,IACAF,EAAAjD,aAAAtB,GAAAuB,OAAAC,OAAAiD,EAAA,GAEA,IAAAE,EAAA7D,KAAAM,KAAAC,eAAA,iBAAAA,eAAA,SAAAA,eAAA,SACAuD,EAAAF,OAAAC,EAAArD,aAAAtB,GAAAuB,OAAAC,QACAoD,IACAD,EAAArD,aAAAtB,GAAAuB,OAAAC,OAAAoD,EAAA,GAEA,IAAAzB,EAAAE,EAAAK,OAAAc,OAAAnD,eAAA,QACAP,KAAAc,cAAAuB,GAAA,GAEAyB,GAAA,IACC9D,KAAA0B,iBAAA,GACA1B,KAAA8B,wBAAA,KAIFiC,UAAA,SAAAxB,GACC,IAAAc,EAAArD,KAAAT,QAAA+D,WAEAG,EAAAlB,EAAAK,OAAAc,OAAAnD,eAAA,SACAoD,EAAAC,OAAAH,EAAAjD,aAAAtB,GAAAuB,OAAAC,QAEAmD,EAAA7D,KAAAM,KAAAC,eAAA,iBAAAA,eAAA,SAAAA,eAAA,SACAuD,EAAAF,OAAAC,EAAArD,aAAAtB,GAAAuB,OAAAC,QAEA6C,EAAAhB,EAAAK,OAAAc,OAAAM,KAEAL,GAAAN,EAAAE,IAAAO,GAAA9D,KAAAR,iBAIAmE,IACAF,EAAAjD,aAAAtB,GAAAuB,OAAAC,OAAAiD,EAAA,GAEAA,GAAAN,EAAAE,IACCvD,KAAAc,cAAAyB,EAAAK,QAAA,GAGDkB,IACAD,EAAArD,aAAAtB,GAAAuB,OAAAC,OAAAoD,EAAA,GAEA,EAAAA,IACC9D,KAAA0B,iBAAA,GACA1B,KAAA8B,wBAAA,MAIFmC,UAAA,WAAY,IAAAC,EAAAlE,KACXmE,EAAAnE,KAAAT,QAAA6E,WACApE,KAAAM,KAAAC,eAAA,SAAAA,eAAA,SACAC,aAAAtB,GAAAuB,OAAAC,OAAAyD,EAAA,GAEA,IAAA/D,EAAAJ,KAAAT,QAAAc,QACAL,KAAAM,KAAAC,eAAA,MAAAA,eAAA,SACAC,aAAAtB,GAAAuB,OAAAC,OAAAN,EAAA,GAIA,IADA,IAAA2C,EAAA/C,KAAAM,KAAAC,eAAA,iBACA0B,EAAA,EAAAA,EAAApD,EAAAqD,OAAAD,IAAA,CACC,IAAAoC,EAAAtB,EAAAxC,eAAA1B,EAAAoD,IAAA1B,eAAA,SACAoD,EAAAC,OAAAS,EAAA7D,aAAAtB,GAAAuB,OAAAC,QACAV,KAAAT,QAAA+E,SAAAzF,EAAAoD,GAAA0B,GAEA3D,KAAAM,KAAAC,eAAA1B,EAAAoD,IAAA1B,eAAA,SACAC,aAAAtB,GAAAuB,OAAAC,OAAAiD,EAAA,GAGDZ,EAAA/B,UAAA9B,GAAA8D,SAAA9D,GAAA+B,OAAA,EAAA/B,GAAAgC,GAAA,IAAA,IAAAhC,GAAA+D,SAAA,WAGEF,EAAAwB,SAAArF,GAAAgC,EAAA,IAAA,GACA,IAAAH,EAAAmD,EAAA5D,KAAAC,eAAA,OAAAA,eAAA,MACA2D,EAAApD,cAAAC,GAAA,+XCvNL,IAAAyD,EAAA,CAAA,EAAA,EAAA,EAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,IACAC,EAAA,CAAA,CAAArE,GAAA,GAAAgD,MAAA,GAAA,CAAAhD,GAAA,EAAAgD,MAAA,GAAA,CAAAhD,GAAA,EAAAgD,MAAA,GAAA,CAAAhD,GAAA,EAAAgD,MAAA,GAAA,CAAAhD,GAAA,EAAAgD,MAAA,GAAA,CAAAhD,GAAA,EAAAgD,MAAA,GAAA,CAAAhD,GAAA,EAAAgD,MAAA,GAAA,CAAAhD,GAAA,EAAAgD,MAAA,GAAA,CAAAhD,GAAA,EAAAgD,MAAA,GAAA,CAAAhD,GAAA,EAAAgD,MAAA,IAaAxE,EAAAM,GAAAwF,KAAA,CACC5F,MAAA,QACAC,MAAA,QACAC,MAAA,QACAC,QAAA,YAGKP,EAAA,WACL,SAAAA,kGAAciG,CAAA3E,KAAAtB,GACbsB,KAAA4E,IAAA,EACA5E,KAAA6E,KAAA,EACA7E,KAAA8E,IAAA,EACA9E,KAAA+E,OAAA,EACA/E,KAAAgF,OAAA,EACAhF,KAAAiF,OAAA,EACAjF,KAAAkF,OAAA,EACAlF,KAAAmF,SAAA,8BAGUxB,MAAA,WACV,OAAA3D,KAAA4E,qBAGSjB,MAAA,WACT,IAAAyB,EAAAX,EAAAzE,KAAA4E,KAKA,OAJA5E,KAAA8E,KAAAM,EAAAhF,GACAJ,KAAA+E,QAAAK,EAAAhF,GACAJ,KAAA4E,MAEAQ,EAAAhC,sBAGQO,MAAA,WACR3D,KAAA6E,OACA,IAAA,IAAA5C,EAAA,EAAAA,EAAAuC,EAAAtC,OAAAD,IACC,GAAAjC,KAAA6E,MAAAL,EAAAvC,GACC,OAAA,EAGF,OAAA,kBAGQ0B,MAAA,WACR,OAAA3D,KAAA6E,uBAGQlB,MAAA,SAAAJ,EAAAI,GACR,OAAAJ,GACC,KAAA3E,EAAAE,MACCkB,KAAAgF,OAAArB,EACA,MACD,KAAA/E,EAAAG,MACCiB,KAAAiF,OAAAtB,EACA,MACD,KAAA/E,EAAAI,MACCgB,KAAAkF,OAAAvB,EACA,MACD,KAAA/E,EAAAK,QACCe,KAAAmF,SAAAxB,qBAKQA,MAAA,WACV,MAAA,CAAA0B,MAAArF,KAAAgF,OAAAM,MAAAtF,KAAAiF,OAAAM,MAAAvF,KAAAkF,OAAAM,QAAAxF,KAAAmF,yBAGOxB,MAAA,WACP,OAAA3D,KAAA8E,kBAGMnB,MAAA,WACN3D,KAAA8E,IAAA9E,KAAA+E,SAAA/E,KAAAW,UACCX,KAAA8E,sBAIOnB,MAAA,WACR,EAAA3D,KAAA8E,KACC9E,KAAA8E,sBAIOnB,MAAA,WACR,OAAA3D,KAAA8E,KAAA,QA7EI,GAiFNW,EAAAC,QAAA,CACChH,OAAAA,EACAE,UAAAA","sourcesContent":["const Player = require(\"./player\").Player;\r\nconst SkillName = require(\"./player\").SkillName;\r\n\r\nconst SkillNames = [SkillName.POWER, SkillName.TOUGH, SkillName.MAGIC, SkillName.AGILITY];\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\t\t\t_player: null,\r\n\t\t\t_addSkillPoint: 0,\r\n\r\n\t\t\tupSprite: {\r\n\t\t\t\ttype: cc.SpriteFrame,\r\n\t\t\t\tdefault: null\r\n\t\t\t},\r\n\r\n\t\t\tdownSprite: {\r\n\t\t\t\ttype: cc.SpriteFrame,\r\n\t\t\t\tdefault: null\r\n\t\t\t},\r\n\r\n\t\t\toffSprite: {\r\n\t\t\t\ttype: cc.SpriteFrame,\r\n\t\t\t\tdefault: null\r\n\t\t\t}\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\t\t\tthis._player = new Player();\r\n\t\t\tthis.playerLevelUp();\r\n    },\r\n\r\n    start () {\r\n\r\n\t\t},\r\n\t\t\r\n\t\tdamage() {\r\n\t\t\tthis._player.damage();\r\n\t\t\tconst hp = this._player.getHp();\r\n\t\t\tconst hpLabel = this.node.getChildByName(\"hp\").getChildByName(\"value\");\r\n\t\t\thpLabel.getComponent(cc.Label).string = hp + \"\";\r\n\r\n\t\t\tif (this._player.isDead()) {\r\n\t\t\t\tconst hpUpButton = this.node.getChildByName(\"hp\").getChildByName(\"up\");\r\n\t\t\t\tconst hpDownButton = this.node.getChildByName(\"hp\").getChildByName(\"down\");\r\n\t\t\t\tthis.buttonEnabled(hpUpButton, false);\r\n\t\t\t\tthis.buttonEnabled(hpDownButton, false);\r\n\r\n\t\t\t\tconst addExpButton = this.node.getChildByName(\"exp\").getChildByName(\"up\");\r\n\t\t\t\tthis.buttonEnabled(addExpButton, false);\r\n\r\n\t\t\t\tconst gameover = this.node.getChildByName(\"gameover\");\r\n\t\t\t\tgameover.runAction(cc.moveTo(1.0, cc.p(0, 0)));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\theal() {\r\n\t\t\tthis._player.heal();\r\n\t\t\tconst hp = this._player.getHp();\r\n\t\t\tconst hpLabel = this.node.getChildByName(\"hp\").getChildByName(\"value\");\r\n\t\t\thpLabel.getComponent(cc.Label).string = hp + \"\";\r\n\t\t},\r\n\r\n\t\tbuttonEnabled(node, enabled, isUp) {\r\n\t\t\tnode.getComponent(cc.Button).interactable = enabled;\r\n\t\t\tnode.getComponent(cc.Sprite).spriteFrame = enabled ? (isUp ? this.upSprite : this.downSprite) : this.offSprite;\r\n\t\t},\r\n\r\n\t\tokButtonEnabled(enabled) {\r\n\t\t\tconst okButton = this.node.getChildByName(\"levelUpWindow\").getChildByName(\"ok\");\r\n\t\t\tokButton.getComponent(cc.Button).interactable = enabled;\r\n\t\t\tokButton.getComponent(cc.Sprite)._sgNode.setState(enabled ? 0 : 1);\r\n\t\t},\r\n\r\n\t\tallSkillUpButonEnabled(enabled) {\r\n\t\t\tconst levelUpWindow = this.node.getChildByName(\"levelUpWindow\");\r\n\t\t\tconst children = levelUpWindow.getChildren();\r\n\t\t\tfor (let i = 0; i < children.length; i++) {\r\n\t\t\t\tconst upButton = children[i].getChildByName(\"up\");\r\n\t\t\t\tif (upButton) {\r\n\t\t\t\t\tthis.buttonEnabled(upButton, enabled, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tallSkillDownButonEnabled(enabled) {\r\n\t\t\tconst levelUpWindow = this.node.getChildByName(\"levelUpWindow\");\r\n\t\t\tconst children = levelUpWindow.getChildren();\r\n\t\t\tfor (let i = 0; i < children.length; i++) {\r\n\t\t\t\tconst downButton = children[i].getChildByName(\"down\");\r\n\t\t\t\tif (downButton) {\r\n\t\t\t\t\tthis.buttonEnabled(downButton, enabled, false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\taddExp(event) {\r\n\t\t\tconst isLevelUp = this._player.addExp();\r\n\t\t\tconst expValue = this.node.getChildByName(\"exp\").getChildByName(\"value\");\r\n\t\t\tconst nextExp = this._player.getExp();\r\n\t\t\texpValue.getComponent(cc.Label).string = nextExp + \"\";\r\n\r\n\t\t\tif (isLevelUp) {\r\n\t\t\t\tthis.buttonEnabled(event.target, false);\r\n\t\t\t\tthis.playerLevelUp();\r\n\t\t\t}\r\n\t\t},\r\n\r\n    playerLevelUp() {\r\n\t\t\tthis._addSkillPoint = this._player.levelUp();\r\n\t\t\t\r\n\t\t\tthis.allSkillUpButonEnabled(true);\r\n\t\t\tthis.allSkillDownButonEnabled(false);\r\n\r\n\t\t\tconst levelUpWindow = this.node.getChildByName(\"levelUpWindow\");\r\n\t\t\tlevelUpWindow.runAction(cc.sequence(\r\n\t\t\t\tcc.callFunc(() => {this.levelUpWindowSetting(levelUpWindow);}),\r\n\t\t\t\tcc.moveTo(1.0, cc.p(0, 0)),\r\n\t\t\t));\r\n\t\t},\r\n\r\n\t\tlevelUpWindowSetting(window, skill) {\r\n\t\t\tconst skillPointLabel = window.getChildByName(\"skill\").getChildByName(\"value\");\r\n\t\t\tskillPointLabel.getComponent(cc.Label).string = this._addSkillPoint + \"\";\r\n\r\n\t\t\tthis.okButtonEnabled(false);\r\n\r\n\t\t\tconst skills = this._player.getSkill();\r\n\t\t\tfor (let skillName in skills) {\r\n\t\t\t\tconst skillValueLabel = window.getChildByName(skillName).getChildByName(\"value\");\r\n\t\t\t\tskillValueLabel.getComponent(cc.Label).string = skills[skillName] + \"\";\r\n\t\t\t}\r\n\r\n\t\t\tthis.allSkillDownButonEnabled(false);\r\n\t\t},\r\n\r\n\t\tskillUp(event) {\r\n\t\t\tconst valueLabel = event.target.parent.getChildByName(\"value\");\r\n\t\t\tlet value = Number(valueLabel.getComponent(cc.Label).string);\r\n\t\t\tvalue++;\r\n\t\t\tvalueLabel.getComponent(cc.Label).string = value + \"\";\r\n\r\n\t\t\tconst skillPointLabel = this.node.getChildByName(\"levelUpWindow\").getChildByName(\"skill\").getChildByName(\"value\");\r\n\t\t\tlet skillPoint = Number(skillPointLabel.getComponent(cc.Label).string);\r\n\t\t\tskillPoint--;\r\n\t\t\tskillPointLabel.getComponent(cc.Label).string = skillPoint + \"\";\r\n\r\n\t\t\tconst downButton = event.target.parent.getChildByName(\"down\");\r\n\t\t\tthis.buttonEnabled(downButton, true);\r\n\r\n\t\t\tif (skillPoint <= 0) {\r\n\t\t\t\tthis.okButtonEnabled(true);\r\n\t\t\t\tthis.allSkillUpButonEnabled(false);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tskillDown(event) {\r\n\t\t\tconst skills = this._player.getSkill();\r\n\r\n\t\t\tconst valueLabel = event.target.parent.getChildByName(\"value\");\r\n\t\t\tlet value = Number(valueLabel.getComponent(cc.Label).string);\r\n\t\t\t\r\n\t\t\tconst skillPointLabel = this.node.getChildByName(\"levelUpWindow\").getChildByName(\"skill\").getChildByName(\"value\");\r\n\t\t\tlet skillPoint = Number(skillPointLabel.getComponent(cc.Label).string);\r\n\r\n\t\t\tconst skillName = event.target.parent.name;\r\n\r\n\t\t\tif (value <= skills[skillName] || skillPoint >= this._addSkillPoint) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvalue--;\r\n\t\t\tvalueLabel.getComponent(cc.Label).string = value + \"\";\r\n\r\n\t\t\tif (value <= skills[skillName]) {\r\n\t\t\t\tthis.buttonEnabled(event.target, false);\r\n\t\t\t}\r\n\r\n\t\t\tskillPoint++;\r\n\t\t\tskillPointLabel.getComponent(cc.Label).string = skillPoint + \"\";\r\n\r\n\t\t\tif (skillPoint > 0) {\r\n\t\t\t\tthis.okButtonEnabled(false);\r\n\t\t\t\tthis.allSkillUpButonEnabled(true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tlevelUpOk() {\r\n\t\t\tconst lv = this._player.getLevel();\r\n\t\t\tconst levelLabel = this.node.getChildByName(\"level\").getChildByName(\"value\");\r\n\t\t\tlevelLabel.getComponent(cc.Label).string = lv + \"\";\r\n\r\n\t\t\tconst hp = this._player.getHp();\r\n\t\t\tconst hpLabel = this.node.getChildByName(\"hp\").getChildByName(\"value\");\r\n\t\t\thpLabel.getComponent(cc.Label).string = hp + \"\";\r\n\r\n\r\n\t\t\tconst levelUpWindow = this.node.getChildByName(\"levelUpWindow\");\r\n\t\t\tfor (let i = 0; i < SkillNames.length; i++) {\r\n\t\t\t\tconst afterLebelUpValue = levelUpWindow.getChildByName(SkillNames[i]).getChildByName(\"value\");\r\n\t\t\t\tconst value = Number(afterLebelUpValue.getComponent(cc.Label).string)\r\n\t\t\t\tthis._player.setSkill(SkillNames[i], value);\r\n\r\n\t\t\t\tconst statusValue = this.node.getChildByName(SkillNames[i]).getChildByName(\"value\");\r\n\t\t\t\tstatusValue.getComponent(cc.Label).string = value + \"\";\r\n\t\t\t}\r\n\r\n\t\t\tlevelUpWindow.runAction(cc.sequence(\r\n\t\t\t\tcc.moveTo(1.0, cc.p(-800, 0)),\r\n\t\t\t\tcc.callFunc(() => {\r\n\t\t\t\t\tlevelUpWindow.position = cc.p(800, 0);\r\n\t\t\t\t\tconst addExpButton = this.node.getChildByName(\"exp\").getChildByName(\"up\");\r\n\t\t\t\t\tthis.buttonEnabled(addExpButton, true);\r\n\t\t\t\t}),\r\n\t\t\t));\r\n\t\t},\r\n});\r\n","const expLevelUp = [0, 3, 7, 11, 16, 21, 27, 34, 42, 50];\r\nconst levelUpReward = [\r\n\t{hp: 12, skill: 5},\r\n\t{hp: 3, skill: 1},\r\n\t{hp: 3, skill: 1},\r\n\t{hp: 3, skill: 1},\r\n\t{hp: 3, skill: 1},\r\n\t{hp: 3, skill: 1},\r\n\t{hp: 3, skill: 1},\r\n\t{hp: 3, skill: 1},\r\n\t{hp: 3, skill: 1},\r\n\t{hp: 4, skill: 2},\r\n];\r\n\r\nconst SkillName = cc.Enum({\r\n\tPOWER: \"power\",\r\n\tTOUGH: \"tough\",\r\n\tMAGIC: \"magic\",\r\n\tAGILITY: \"agility\",\r\n});\r\n\r\nclass Player {\r\n\tconstructor() {\r\n\t\tthis._lv = 0;\r\n\t\tthis._exp = 0;\r\n\t\tthis._hp = 0;\r\n\t\tthis._maxHp = 0;\r\n\t\tthis._power = 0;\r\n\t\tthis._tough = 0;\r\n\t\tthis._magic = 0;\r\n\t\tthis._agility = 0;\r\n\t}\r\n\r\n\tgetLevel() {\r\n\t\treturn this._lv;\r\n\t}\r\n\r\n\tlevelUp() {\r\n\t\tconst reward = levelUpReward[this._lv];\r\n\t\tthis._hp += reward.hp;\r\n\t\tthis._maxHp += reward.hp;\r\n\t\tthis._lv++;\r\n\r\n\t\treturn reward.skill;\r\n\t}\r\n\r\n\taddExp() {\r\n\t\tthis._exp++;\r\n\t\tfor (let i = 0; i < expLevelUp.length; i++) {\r\n\t\t\tif (this._exp == expLevelUp[i]) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tgetExp() {\r\n\t\treturn this._exp;\r\n\t}\r\n\r\n\tsetSkill(skillName, value) {\r\n\t\tswitch (skillName) {\r\n\t\t\tcase SkillName.POWER:\r\n\t\t\t\tthis._power = value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase SkillName.TOUGH:\r\n\t\t\t\tthis._tough = value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase SkillName.MAGIC:\r\n\t\t\t\tthis._magic = value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase SkillName.AGILITY:\r\n\t\t\t\tthis._agility = value;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tgetSkill() {\r\n\t\treturn { power: this._power, tough: this._tough, magic: this._magic, agility: this._agility };\r\n\t}\r\n\r\n\tgetHp() {\r\n\t\treturn this._hp;\r\n\t}\r\n\r\n\theal() {\r\n\t\tif (this._hp < this._maxHp && !this.isDead()) {\r\n\t\t\tthis._hp++;\r\n\t\t}\r\n\t}\r\n\r\n\tdamage() {\r\n\t\tif (this._hp > 0) {\r\n\t\t\tthis._hp--;\r\n\t\t}\r\n\t}\r\n\r\n\tisDead() {\r\n\t\treturn this._hp <= 0;\r\n\t}\r\n};\r\n\r\nmodule.exports = {\r\n\tPlayer: Player,\r\n\tSkillName: SkillName,\r\n};"],"sourceRoot":"/source/","file":"project.js"}