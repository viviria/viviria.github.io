{"version":3,"sources":["assets/scripts/map.js"],"names":["cc","Class","extends","Component","properties","mapTile","default","type","Prefab","mapWidth","mapHeight","createEmptyMap","rangeX","start","Math","floor","this","end","rangeY","activeTileX","addX","i","j","tile","instantiate","size","getContentSize","position","p","width","height","active","node","addChild","onLoad"],"mappings":"sgBAAAA,GAAAC,MAAA,CACIC,QAAAF,GAAAG,UAEAC,WAAA,CACEC,QAAA,CACEC,QAAA,KACAC,KAAAP,GAAAQ,QAGFC,SAAA,EACAC,UAAA,GAGFC,eAAA,WAKE,IAJA,IAAAC,EAAA,CAAAC,OAAAC,KAAAC,MAAAC,KAAAP,SAAA,GAAAQ,IAAAH,KAAAC,MAAAC,KAAAP,SAAA,IACAS,EAAA,CAAAL,OAAAC,KAAAC,MAAAC,KAAAN,UAAA,GAAAO,IAAAH,KAAAC,MAAAC,KAAAN,UAAA,IACAS,EAAA,EACAC,EAAA,EACAC,EAAAT,EAAAC,MAAAQ,GAAAT,EAAAK,IAAAI,IAAA,CACE,IAAA,IAAAC,EAAAJ,EAAAL,MAAAS,GAAAJ,EAAAD,IAAAK,IAAA,CACE,IAAAC,EAAAvB,GAAAwB,YAAAR,KAAAX,SACAoB,EAAAF,EAAAG,iBACAH,EAAAI,SAAA3B,GAAA4B,EAAAN,EAAAG,EAAAI,MAAAR,EAAAI,EAAAK,QACAP,EAAAQ,QAAAZ,GAAAG,GAAAA,GAAAH,EACAH,KAAAgB,KAAAC,SAAAV,GAGFJ,GADAC,GAAA,GAAAC,GAAA,EAAA,IAKJa,OAAA,WACElB,KAAAL,kBAGFE,MAAA","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n      mapTile : {\r\n        default: null,\r\n        type: cc.Prefab\r\n      },\r\n\r\n      mapWidth: 0,\r\n      mapHeight: 0,\r\n    },\r\n\r\n    createEmptyMap() {\r\n      const rangeX = { start: - Math.floor(this.mapWidth / 2), end: Math.floor(this.mapWidth / 2)};\r\n      const rangeY = { start: - Math.floor(this.mapHeight / 2), end: Math.floor(this.mapHeight / 2)};\r\n      let activeTileX = 0;\r\n      let addX = 1;\r\n      for (let i = rangeX.start; i <= rangeX.end; i++) {\r\n        for (let j = rangeY.start; j <= rangeY.end; j++) {\r\n          const tile = cc.instantiate(this.mapTile);\r\n          const size = tile.getContentSize();\r\n          tile.position = cc.p(j * size.width, i * size.height);\r\n          tile.active = j >= -activeTileX && j <= activeTileX; \r\n          this.node.addChild(tile);\r\n        }\r\n        addX *= (i == 0 ? -1 : 1);\r\n        activeTileX += addX;\r\n      }\r\n    },\r\n\r\n    onLoad () {\r\n      this.createEmptyMap();\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"],"sourceRoot":"/source/","file":"project.js"}