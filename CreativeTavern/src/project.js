require=function o(c,r,s){function p(e,t){if(!r[e]){if(!c[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var a=r[e]={exports:{}};c[e][0].call(a.exports,function(t){return p(c[e][1][t]||t)},a,a.exports,o,c,r,s)}return r[e].exports}for(var l="function"==typeof require&&require,t=0;t<s.length;t++)p(s[t]);return p}({game:[function(t,e,n){"use strict";cc._RF.push(e,"012b1yJ2hZOMLkBge6DMWME","game");var i=cc.Enum({PLAYING:0,PLAYER_DETAIL_WINDOW:1,PLAYER_HAND_WINDOW:2}),a=["hiro","aya","shino","yomo"];cc.Class({extends:cc.Component,properties:{_playerNum:0,_gameState:i.PLAYING},onTapClosePlayerDetailWindow:function(){var t=this;if(this._gameState==i.PLAYER_DETAIL_WINDOW){var e=this.node.getChildByName("playerDetailWindow");e.runAction(cc.sequence(cc.scaleTo(.2,0),cc.callFunc(function(){e.active=!1,t._gameState=i.PLAYING})))}},onTapShowPlayerDetailWindow:function(){var t=this.node.getChildByName("playerDetailWindow");t.active||this._gameState!=i.PLAYING||(this._gameState=i.PLAYER_DETAIL_WINDOW,t.active=!0,t.runAction(cc.scaleTo(.2,1)))},onTapShowPlayerHandWindow:function(){var t=this.node.getChildByName("playerHandWindow");t.active||this._gameState!=i.PLAYING||(this._gameState=i.PLAYER_HAND_WINDOW,t.active=!0,t.runAction(cc.spawn(cc.scaleTo(.2,1),cc.moveTo(.2,cc.p(0,-60)))))},onTapClosePlayeHandWindow:function(){var t=this;if(this._gameState==i.PLAYER_HAND_WINDOW){var e=this.node.getChildByName("playerHandWindow");e.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,0),cc.moveTo(.2,cc.p(340,-700))),cc.callFunc(function(){e.active=!1,t._gameState=i.PLAYING})))}},touchSetting:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){t.getLocation()}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){t.getLocation()}),this.node.on(cc.Node.EventType.TOUCH_END,function(t){})},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this._playerNum=4;for(var t=[],e=0;e<a.length;e++){var n=this.node.getChildByName(a[e]);e<this._playerNum?t.push(n):n.active=!1}this.node.getChildByName("map").getComponent("map").createEmptyMap(this._playerNum,t),this.touchSetting()},start:function(){}}),cc._RF.pop()},{}],mapTile:[function(t,e,n){"use strict";cc._RF.push(e,"f6ed4klKn9Cr7dnlF6BKtr8","mapTile");var i=cc.Enum({EMPTY:"empty",MEAT:"meat",VEGETABLE:"vegetable",DRINK:"drink",FRUITS:"fruits",ALL:"all",SPECIAL:"special",START:"start"});cc.Class({extends:cc.Component,properties:{iconsAtlas:{default:null,type:cc.SpriteAtlas},_type:i.EMPTY,_playerIcon:null},setMapTile:function(t){this._type=t,this.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.iconsAtlas.getSpriteFrame(this._type)},setPlayerIcon:function(t){this._playerIcon=t,this._playerIcon.removeFromParent(),this.node.addChild(this._playerIcon),this._playerIcon.position=cc.p(-30,30)},removePlayerIcon:function(){this.node.removeChild(this._playerIcon);var t=this._playerIcon;return this._playerIcon=null,t},start:function(){}}),e.exports={IconType:i},cc._RF.pop()},{}],map:[function(t,e,n){"use strict";cc._RF.push(e,"e9f70XOCvBOMZIiOlaRpHlp","map");var i=t("./mapTile").IconType;cc.Class({extends:cc.Component,properties:{mapTile:{default:null,type:cc.Prefab},_mapWidth:0,_mapHeight:0},__setMapSize:function(t){switch(t){case 2:this._mapWidth=5,this._mapHeight=5;break;case 3:case 4:this._mapWidth=7,this._mapHeight=7}},__setStartMap:function(a,t){for(var o=this,e=this.node.getChildren().filter(function(t,e){var n=e%o._mapWidth,i=Math.floor(e/o._mapWidth);return a<3?t.active&&(0==i||i==o._mapHeight-1):t.active&&(0==i||i==o._mapHeight-1||0==n||n==o._mapWidth-1)}),n=0;n<e.length;n++)e[n].getComponent("mapTile").setMapTile(i.START),e[n].getComponent("mapTile").setPlayerIcon(t[n])},createEmptyMap:function(t,e){this.__setMapSize(t);for(var n={start:-Math.floor(this._mapWidth/2),end:Math.floor(this._mapWidth/2)},i={start:-Math.floor(this._mapHeight/2),end:Math.floor(this._mapHeight/2)},a=0,o=1,c=n.start;c<=n.end;c++){for(var r=i.start;r<=i.end;r++){var s=cc.instantiate(this.mapTile),p=s.getContentSize();s.position=cc.p(r*p.width,c*p.height),s.active=-a<=r&&r<=a,this.node.addChild(s)}a+=o*=0==c?-1:1}this.__setStartMap(t,e)},onLoad:function(){},start:function(){}}),cc._RF.pop()},{"./mapTile":"mapTile"}],player:[function(t,e,n){"use strict";cc._RF.push(e,"21b15G8nMdDT5z/cM+pf7Ob","player");var i=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();(function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._point=0,this._foodHands=[],this._specialHands=[],this._cutomers=[]}i(t,[{key:"__addPoint",value:function(t){this._point+=t}},{key:"addCustomer",value:function(t){this._cutomers.push(t)}},{key:"addFoodHand",value:function(t){this._foodHands.push(t)}},{key:"addSpecialHand",value:function(t){this._specialHands.push(t)}},{key:"point",get:function(){return this._point}},{key:"customers",get:function(){return this._cutomers}},{key:"foodHands",get:function(){return this._foodHands}},{key:"specialHands",get:function(){return this._specialHands}}])})();cc._RF.pop()},{}]},{},["game","map","mapTile","player"]);
//# sourceMappingURL=project.js.map