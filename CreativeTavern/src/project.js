require=function a(c,r,s){function d(e,t){if(!r[e]){if(!c[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(h)return h(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var n=r[e]={exports:{}};c[e][0].call(n.exports,function(t){return d(c[e][1][t]||t)},n,n.exports,a,c,r,s)}return r[e].exports}for(var h="function"==typeof require&&require,t=0;t<s.length;t++)d(s[t]);return d}({game:[function(t,e,o){"use strict";cc._RF.push(e,"012b1yJ2hZOMLkBge6DMWME","game");var i=cc.Enum({PLAYING:0,PLAYER_DETAIL_WINDOW:1,PLAYER_HAND_WINDOW:2});cc.Class({extends:cc.Component,properties:{_playerNum:4,_gameState:i.PLAYING},onTapClosePlayerDetailWindow:function(){var t=this;if(this._gameState==i.PLAYER_DETAIL_WINDOW){var e=this.node.getChildByName("playerDetailWindow");e.runAction(cc.sequence(cc.scaleTo(.2,0),cc.callFunc(function(){e.active=!1,t._gameState=i.PLAYING})))}},onTapShowPlayerDetailWindow:function(){var t=this.node.getChildByName("playerDetailWindow");t.active||this._gameState==i.PLAYER_DETAIL_WINDOW||(this._gameState=i.PLAYER_DETAIL_WINDOW,t.active=!0,t.runAction(cc.scaleTo(.2,1)))},onTapShowPlayerHandWindow:function(){var t=this.node.getChildByName("playerHandWindow");t.active||this._gameState==i.PLAYER_HAND_WINDOW||(this._gameState=i.PLAYER_HAND_WINDOW,t.active=!0,t.runAction(cc.spawn(cc.scaleTo(.2,1),cc.moveTo(.2,cc.p(0,-60)))))},onTapClosePlayeHandWindow:function(){var t=this;if(this._gameState==i.PLAYER_HAND_WINDOW){var e=this.node.getChildByName("playerHandWindow");e.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,0),cc.moveTo(.2,cc.p(340,-850))),cc.callFunc(function(){e.active=!1,t._gameState=i.PLAYING})))}},showActionFoodWindow:function(t){var e=this.node.getChildByName("actions").getChildren(),o=!0,i=!1,n=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var r=a.value,s=r.getComponent(cc.BoxCollider);if(cc.Intersection.pointInPolygon(t,s.world.points)){var d=this.node.getChildByName("actionFoodWindow");d.active=!0,d.x=r.x-50;break}}}catch(t){i=!0,n=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw n}}},hideActionFoodWindow:function(){this.node.getChildByName("actionFoodWindow").active=!1},touchSetting:function(){var o=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){var e=t.getLocation();o.showActionFoodWindow(e)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var e=t.getLocation();o.showActionFoodWindow(e)}),this.node.on(cc.Node.EventType.TOUCH_END,function(t){o.hideActionFoodWindow()})},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.node.getChildByName("map").getComponent("map").createEmptyMap(this._playerNum),this.touchSetting()},start:function(){}}),cc._RF.pop()},{}],map:[function(t,e,o){"use strict";cc._RF.push(e,"e9f70XOCvBOMZIiOlaRpHlp","map"),cc.Class({extends:cc.Component,properties:{mapTile:{default:null,type:cc.Prefab},_mapWidth:0,_mapHeight:0},_setMapSize:function(t){switch(t){case 2:this._mapWidth=5,this._mapHeight=5;break;case 3:case 4:this._mapWidth=7,this._mapHeight=7}},createEmptyMap:function(t){this._setMapSize(t);for(var e={start:-Math.floor(this._mapWidth/2),end:Math.floor(this._mapWidth/2)},o={start:-Math.floor(this._mapHeight/2),end:Math.floor(this._mapHeight/2)},i=0,n=1,a=e.start;a<=e.end;a++){for(var c=o.start;c<=o.end;c++){var r=cc.instantiate(this.mapTile),s=r.getContentSize();r.position=cc.p(c*s.width,a*s.height),r.active=-i<=c&&c<=i,this.node.addChild(r)}i+=n*=0==a?-1:1}},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}]},{},["game","map"]);
//# sourceMappingURL=project.js.map